/*Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the MIT License.*/ 
{

  /*This is A:  A means that we will not deploy ExpressRoute, and we will not configure 
  Multiple VPNs in Active/Active Mode */

  "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "baseUrl": {
      "defaultValue": "https://github.com/willstg/AzureFoundation/tree/master/arm/vnet/",
      "type": "string",
      "metadata": {
        "artifactsBaseUrl": "",
        "description": "URL to acquire other templates"
      }
    },
    "templateLink": {
      "type": "string",
      "defaultValue": "site1/af_vnet_azuredeploy1_servicesB..json",
      "metadata": { "description": "The parameter file for the second site's GW." }
    },
    /*in the metadata spreadsheet, on the VNET tab, filter on VNET204
    select the columns with Temlate and grouped by color. */
    "vnet204vnetName": {
      "type": "string",
      "defaultValue": "vnet1a_services_w2",
      "metadata": { "description": "Arbitrary name for the new VNET." }
    },
    "vnet204vnetAddressPrefix": {
      "type": "string",
      "defaultValue": "10.128.120.0/21",
      "metadata": { "description": "IP address range for the new VNET." }
    },
    "vnet204SubscriptionID": {
      "type": "string",
      "defaultValue": "730f26b5-ebf5-4518-999f-0b4eb0cdc8f9",
      "metadata": { "description": "IP Subscription ID of the VNET." }
    },
    "vnet204ResourceGroupName": {
      "type": "string",
      "defaultValue": "rg_network_vnet1a_services_w2",
      "metadata": { "description": "ResouceGroup of the VNET." }
    },
    "vnet204locationName": {
      "type": "string",
      "defaultValue": "westus2",
      "metadata": { "description": "IP Location of the VNET." }
    },
    "vnet204dnsServers": {
      "type": "array",
      "defaultValue": [ "10.128.59.36" ],
      "metadata": { "description": "DNS Servers of the VNET." }
    },
    "vnet204dnsPrefix": {
      "type": "string",
      "defaultValue": "slg.us",
      "metadata": { "description": "DNS Prefix of the VNET." }
    },

    /*
    Using the metadata spreadsheet, the subnnet tab, filter results on VNET204, 
    Select the columnns that contain the word template and are color coded accordingly.
    */
    "snet274Name": {
      "type": "string",
      "defaultValue": "s600_Services_Services_W2",
      "metadata": { "description": "Name of the subnet." }
    },
    "snet274IP": {
      "type": "string",
      "defaultValue": "10.128.120.0/24",
      "metadata": { "description": "CRI notation of the Subnet." }
    },
    "snet274NSGName": {
      "type": "string",
      "defaultValue": "600NSG",
      "metadata": { "description": "Network Security Group to associate to the subnet." }
    },
    "snet275Name": {
      "type": "string",
      "defaultValue": "s625_LB_Services_Services_W2",
      "metadata": { "description": "Name of the subnet." }
    },
    "snet275IP": {
      "type": "string",
      "defaultValue": "10.128.122.0/25",
      "metadata": { "description": "CRI notation of the Subnet." }
    },
    "snet275NSGName": {
      "type": "string",
      "defaultValue": "625NSG",
      "metadata": { "description": "Network Security Group to associate to the subnet." }
    },
    "snet280Name": {
      "type": "string",
      "defaultValue": "s680_RTR_InsideTest_Services_W2",
      "metadata": { "description": "Name of the subnet." }
    },
    "snet280IP": {
      "type": "string",
      "defaultValue": "10.128.123.0/28",
      "metadata": { "description": "CRI notation of the Subnet." }
    },
    "snet280NSGName": {
      "type": "string",
      "defaultValue": "680NSG",
      "metadata": { "description": "Network Security Group to associate to the subnet." }
    },
    "snet282Name": {
      "type": "string",
      "defaultValue": "s681_RTR_OutsideTest_Services_W2",
      "metadata": { "description": "Name of the subnet." }
    },
    "snet282IP": {
      "type": "string",
      "defaultValue": "10.128.123.16/28",
      "metadata": { "description": "CRI notation of the Subnet." }
    },
    "snet282NSGName": {
      "type": "string",
      "defaultValue": "681NSG",
      "metadata": { "description": "Network Security Group to associate to the subnet." }
    },
    "snet283Name": {
      "type": "string",
      "defaultValue": "s682_FW_IntTest_Services_W2",
      "metadata": { "description": "Name of the subnet." }
    },
    "snet283IP": {
      "type": "string",
      "defaultValue": "10.128.123.32/28",
      "metadata": { "description": "CRI notation of the Subnet." }
    },
    "snet283NSGName": {
      "type": "string",
      "defaultValue": "682NSG",
      "metadata": { "description": "Network Security Group to associate to the subnet." }
    },
    "snet284Name": {
      "type": "string",
      "defaultValue": "s683_FW_ExtTest_Services_W2",
      "metadata": { "description": "Name of the subnet." }
    },
    "snet284IP": {
      "type": "string",
      "defaultValue": "10.128.123.64/28",
      "metadata": { "description": "CRI notation of the Subnet." }
    },
    "snet284NSGName": {
      "type": "string",
      "defaultValue": "683NSG",
      "metadata": { "description": "Network Security Group to associate to the subnet." }
    },
    "snet276Name": {
      "type": "string",
      "defaultValue": "s650_DMZ_Services_W2",
      "metadata": { "description": "Name of the subnet." }
    },
    "snet276IP": {
      "type": "string",
      "defaultValue": "10.128.124.0/24",
      "metadata": { "description": "CRI notation of the Subnet." }
    },
    "snet276NSGName": {
      "type": "string",
      "defaultValue": "650NSG",
      "metadata": { "description": "Network Security Group to associate to the subnet." }
    },
    "snet279Name": {
      "type": "string",
      "defaultValue": "s655_LB_DMZ_Services_W2",
      "metadata": { "description": "Name of the subnet." }
    },
    "snet279IP": {
      "type": "string",
      "defaultValue": "10.128.125.0/24",
      "metadata": { "description": "CRI notation of the Subnet." }
    },
    "snet279NSGName": {
      "type": "string",
      "defaultValue": "655NSG",
      "metadata": { "description": "Network Security Group to associate to the subnet." }
    },
    "snet277Name": {
      "type": "string",
      "defaultValue": "s660_User_Tier0_Services_W2",
      "metadata": { "description": "Name of the subnet." }
    },
    "snet277IP": {
      "type": "string",
      "defaultValue": "10.128.126.0/26",
      "metadata": { "description": "CRI notation of the Subnet." }
    },
    "snet277NSGName": {
      "type": "string",
      "defaultValue": "660NSG",
      "metadata": { "description": "Network Security Group to associate to the subnet." }
    },
    "snet278Name": {
      "type": "string",
      "defaultValue": "s661_User_Tier1_Services_W2",
      "metadata": { "description": "Name of the subnet." }
    },
    "snet278IP": {
      "type": "string",
      "defaultValue": "10.128.126.64/26",
      "metadata": { "description": "CRI notation of the Subnet." }
    },
    "snet278NSGName": {
      "type": "string",
      "defaultValue": "661NSG",
      "metadata": { "description": "Network Security Group to associate to the subnet." }
    },
    "snet285Name": {
      "type": "string",
      "defaultValue": "s662_User_Tier2_Services_W2",
      "metadata": { "description": "Name of the subnet." }
    },
    "snet285IP": {
      "type": "string",
      "defaultValue": "10.128.126.128/26",
      "metadata": { "description": "CRI notation of the Subnet." }
    },
    "snet285NSGName": {
      "type": "string",
      "defaultValue": "662NSG",
      "metadata": { "description": "Network Security Group to associate to the subnet." }
    },
    "snet215Name": {
      "type": "string",
      "defaultValue": "GatewaySubnet",
      "metadata": { "description": "Name of the subnet." }
    },
    "snet215IP": {
      "type": "string",
      "defaultValue": "10.128.127.224/27",
      "metadata": { "description": "CRI notation of the Subnet." }
    },


    /*
    Using the metadata spreadsheet, the Peering tab, filter results on VNET204, 
    Select the columnns that contain the word template and are color coded accordingly.
    */
    "pr204PeeringName": {
      "type": "string",
      "defaultValue": "vnet1a_services_w2_vnet1a_prod_w2",
      "metadata": { "description": "Arbitrary name for the new peering between an Azure VNet and another Azure VNET in the same region." }
    },
    "pr204Source": {
      "type": "string",
      "defaultValue": "vnet1a_services_w2",
      "metadata": { "description": "Arbitrary name for the new peering between an Azure VNet and another Azure VNET in the same region." }
    },
    "pr204destSubscriptionID": {
      "type": "string",
      "defaultValue": "ec1cea2e-92aa-45a7-89b0-d9fc40df2beb",
      "metadata": { "description": "The subscription ID of the destination VNET Peer, needed to build the ResourceID." }
    },
    "pr204destResourceGroup": {
      "type": "string",
      "defaultValue": "rg_network_vnet1a_prod_w2",
      "metadata": { "description": "Resource Group name of the destination VNET Peer, needed to build the resource ID." }
    },
    "pr204DestinationVNET": {
      "type": "string",
      "defaultValue": "vnet1a_prod_w2",
      "metadata": { "description": "Specific name for the source peering Azure Vnet." }
    },
    "pr204allowVNETAccess": {
      "type": "bool",
      "defaultValue": true,
      "metadata": { "description": "Can traffic to access this VNET?" }
    },
    "pr204allowFwdAccess": {
      "type": "bool",
      "defaultValue": true,
      "metadata": { "description": "Can traffic be forwarded to this VNET from another VNET outside the Peering relationship?" }
    },
    "pr204allowGWAccess": {
      "type": "bool",
      "defaultValue": true,
      "metadata": { "description": "Can traffic from peering network leverage the gateway?" }
    },
    "pr204useRemoteGateway": {
      "type": "bool",
      "defaultValue": false,
      "metadata": { "description": "Can traffic use the remote gateway?" }
    },
    "pr205PeeringName": {
      "type": "string",
      "defaultValue": "vnet1a_services_w2_vnet1a_hbi_w2",
      "metadata": { "description": "Arbitrary name for the new peering between an Azure VNet and another Azure VNET in the same region." }
    },
    "pr205Source": {
      "type": "string",
      "defaultValue": "vnet1a_services_w2",
      "metadata": { "description": "Arbitrary name for the new peering between an Azure VNet and another Azure VNET in the same region." }
    },
    "pr205destSubscriptionID": {
      "type": "string",
      "defaultValue": "ce38c0ef-22f5-458d-b1f7-e3890e2471f2",
      "metadata": { "description": "The subscription ID of the destination VNET Peer, needed to build the ResourceID." }
    },
    "pr205destResourceGroup": {
      "type": "string",
      "defaultValue": "rg_network_vnet1a_hbi_w2",
      "metadata": { "description": "Resource Group name of the destination VNET Peer, needed to build the resource ID." }
    },
    "pr205DestinationVNET": {
      "type": "string",
      "defaultValue": "vnet1a_hbi_w2",
      "metadata": { "description": "Specific name for the source peering Azure Vnet." }
    },
    "pr205allowVNETAccess": {
      "type": "bool",
      "defaultValue": true,
      "metadata": { "description": "Can traffic to access this VNET?" }
    },
    "pr205allowFwdAccess": {
      "type": "bool",
      "defaultValue": true,
      "metadata": { "description": "Can traffic be forwarded to this VNET from another VNET outside the Peering relationship?" }
    },
    "pr205allowGWAccess": {
      "type": "bool",
      "defaultValue": true,
      "metadata": { "description": "Can traffic from peering network leverage the gateway?" }
    },
    "pr205useRemoteGateway": {
      "type": "bool",
      "defaultValue": false,
      "metadata": { "description": "Can traffic use the remote gateway?" }
    },
    "pr206PeeringName": {
      "type": "string",
      "defaultValue": "vnet1a_services_w2_vnet1a_preprod_w2",
      "metadata": { "description": "Arbitrary name for the new peering between an Azure VNet and another Azure VNET in the same region." }
    },
    "pr206Source": {
      "type": "string",
      "defaultValue": "vnet1a_services_w2",
      "metadata": { "description": "Arbitrary name for the new peering between an Azure VNet and another Azure VNET in the same region." }
    },
    "pr206destSubscriptionID": {
      "type": "string",
      "defaultValue": "a7d928df-fc97-4f02-adae-3d7cdeb7c8cb",
      "metadata": { "description": "The subscription ID of the destination VNET Peer, needed to build the ResourceID." }
    },
    "pr206destResourceGroup": {
      "type": "string",
      "defaultValue": "rg_network_vnet1a_preprod_w2",
      "metadata": { "description": "Resource Group name of the destination VNET Peer, needed to build the resource ID." }
    },
    "pr206DestinationVNET": {
      "type": "string",
      "defaultValue": "vnet1a_preprod_w2",
      "metadata": { "description": "Specific name for the source peering Azure Vnet." }
    },
    "pr206allowVNETAccess": {
      "type": "bool",
      "defaultValue": true,
      "metadata": { "description": "Can traffic to access this VNET?" }
    },
    "pr206allowFwdAccess": {
      "type": "bool",
      "defaultValue": true,
      "metadata": { "description": "Can traffic be forwarded to this VNET from another VNET outside the Peering relationship?" }
    },
    "pr206allowGWAccess": {
      "type": "bool",
      "defaultValue": true,
      "metadata": { "description": "Can traffic from peering network leverage the gateway?" }
    },
    "pr206useRemoteGateway": {
      "type": "bool",
      "defaultValue": false,
      "metadata": { "description": "Can traffic use the remote gateway?" }
    },
    "pr207PeeringName": {
      "type": "string",
      "defaultValue": "vnet1a_services_w2_vnet1a_storage_w2",
      "metadata": { "description": "Arbitrary name for the new peering between an Azure VNet and another Azure VNET in the same region." }
    },
    "pr207Source": {
      "type": "string",
      "defaultValue": "vnet1a_services_w2",
      "metadata": { "description": "Arbitrary name for the new peering between an Azure VNet and another Azure VNET in the same region." }
    },
    "pr207destSubscriptionID": {
      "type": "string",
      "defaultValue": "6e5d19d2-a324-470a-b24f-57ac0d3221a1",
      "metadata": { "description": "The subscription ID of the destination VNET Peer, needed to build the ResourceID." }
    },
    "pr207destResourceGroup": {
      "type": "string",
      "defaultValue": "rg_network_vnet1a_storage_w2",
      "metadata": { "description": "Resource Group name of the destination VNET Peer, needed to build the resource ID." }
    },
    "pr207DestinationVNET": {
      "type": "string",
      "defaultValue": "vnet1a_storage_w2",
      "metadata": { "description": "Specific name for the source peering Azure Vnet." }
    },
    "pr207allowVNETAccess": {
      "type": "bool",
      "defaultValue": true,
      "metadata": { "description": "Can traffic to access this VNET?" }
    },
    "pr207allowFwdAccess": {
      "type": "bool",
      "defaultValue": true,
      "metadata": { "description": "Can traffic be forwarded to this VNET from another VNET outside the Peering relationship?" }
    },
    "pr207allowGWAccess": {
      "type": "bool",
      "defaultValue": true,
      "metadata": { "description": "Can traffic from peering network leverage the gateway?" }
    },
    "pr207useRemoteGateway": {
      "type": "bool",
      "defaultValue": false,
      "metadata": { "description": "Can traffic use the remote gateway?" }
    },

    /*
    Using the metadata spreadsheet, the localnetworkgateway tab, filter results on VNET204, 
    Select the columnns that contain the word template and are color coded accordingly.
    */
    "lngw01bname": {
      "type": "string",
      "defaultValue": "lngw_boulder_dc1",
      "metadata": { "description": "Name for the destination connection between an Azure VNet and another network" }
    },
    "lngw01bgatewayIPAddress": {
      "type": "string",
      "defaultValue": "1.1.1.1",
      "metadata": { "description": "IP address of local network gateway." }
    },
    "lngw01blocalNetworkAddressSpace": {
      "type": "array",
      "defaultValue": "10.0.0.0/9",
      "metadata": { "description": "Local network site address space." }
    },
    "lngw01bConfigureBGP": {
      "type": "bool",
      "defaultValue": true,
      "metadata": { "description": "True or False, will you configure BGP with the LocalNetworkGateway" }
    },
    "lngw01bASNNumber": {
      "type": "int",
      "defaultValue": 65501,
      "metadata": { "description": "The BGP speaker's ASN." }
    },
    "lngw01bBGPPeerIPAddress": {
      "type": "string",
      "defaultValue": "10.0.0.254",
      "metadata": { "description": "The BGP peering address and BGP identifier of this BGP speaker." }
    },
    "lngw01bpeerWeight": {
      "type": "int",
      "defaultValue": 0,
      "metadata": { "description": "The weight added to routes learned from this BGP speaker." }
    },
    "lngw02bname": {
      "type": "string",
      "defaultValue": "lngw_austin_dc2",
      "metadata": { "description": "Name for the destination connection between an Azure VNet and another network" }
    },
    "lngw02bgatewayIPAddress": {
      "type": "string",
      "defaultValue": "1.1.1.9",
      "metadata": { "description": "IP address of local network gateway." }
    },
    "lngw02blocalNetworkAddressSpace": {
      "type": "array",
      "defaultValue": "10.0.0.0/9",
      "metadata": { "description": "Local network site address space." }
    },
    "lngw02bConfigureBGP": {
      "type": "bool",
      "defaultValue": true,
      "metadata": { "description": "True or False, will you configure BGP with the LocalNetworkGateway" }
    },
    "lngw02bASNNumber": {
      "type": "int",
      "defaultValue": 65502,
      "metadata": { "description": "The BGP speaker's ASN." }
    },
    "lngw02bBGPPeerIPAddress": {
      "type": "string",
      "defaultValue": "10.0.0.255",
      "metadata": { "description": "The BGP peering address and BGP identifier of this BGP speaker." }
    },
    "lngw02bpeerWeight": {
      "type": "int",
      "defaultValue": 0,
      "metadata": { "description": "The weight added to routes learned from this BGP speaker." }
    },
    "lngw404aname": {
      "type": "string",
      "defaultValue": "lngw_site4a_az",
      "metadata": { "description": "Name for the destination connection between an Azure VNet and another network" }
    },
    "lngw404agatewayIPAddress": {
      "type": "string",
      "defaultValue": "",
      "metadata": { "description": "IP address of local network gateway." }
    },
    "lngw404alocalNetworkAddressSpace": {
      "type": "array",
      "defaultValue":,
      "metadata": { "description": "Local network site address space." }
    },
    "lngw404aConfigureBGP": {
      "type": "bool",
      "defaultValue": true,
      "metadata": { "description": "True or False, will you configure BGP with the LocalNetworkGateway" }
    },
    "lngw404aASNNumber": {
      "type": "int",
      "defaultValue": 65524,
      "metadata": { "description": "The BGP speaker's ASN." }
    },
    "lngw404aBGPPeerIPAddress": {
      "type": "string",
      "defaultValue": "",
      "metadata": { "description": "The BGP peering address and BGP identifier of this BGP speaker." }
    },
    "lngw404apeerWeight": {
      "type": "int",
      "defaultValue": 0,
      "metadata": { "description": "The weight added to routes learned from this BGP speaker." }
    },
    "lngw404bname": {
      "type": "string",
      "defaultValue": "lngw_site4b_az",
      "metadata": { "description": "Name for the destination connection between an Azure VNet and another network" }
    },
    "lngw404bgatewayIPAddress": {
      "type": "string",
      "defaultValue": "",
      "metadata": { "description": "IP address of local network gateway." }
    },
    "lngw404blocalNetworkAddressSpace": {
      "type": "array",
      "defaultValue":,
      "metadata": { "description": "Local network site address space." }
    },
    "lngw404bConfigureBGP": {
      "type": "bool",
      "defaultValue": true,
      "metadata": { "description": "True or False, will you configure BGP with the LocalNetworkGateway" }
    },
    "lngw404bASNNumber": {
      "type": "int",
      "defaultValue": 65524,
      "metadata": { "description": "The BGP speaker's ASN." }
    },
    "lngw404bBGPPeerIPAddress": {
      "type": "string",
      "defaultValue": "",
      "metadata": { "description": "The BGP peering address and BGP identifier of this BGP speaker." }
    },
    "lngw404bpeerWeight": {
      "type": "int",
      "defaultValue": 0,
      "metadata": { "description": "The weight added to routes learned from this BGP speaker." }
    },

    /*
    Using the metadata spreadsheet, the gateway tab, filter results on VNET204, 
    Select the columnns that contain the word template and are color coded accordingly.
    */
    "gw204vGatewayName": {
      "type": "string",
      "defaultValue": "gw_vnet1a_services_w2",
      "metadata": { "description": "Arbitrary name for the new gateway" }
    },
    "gw204vvnetName": {
      "type": "string",
      "defaultValue": "vnet1a_services_w2",
      "metadata": { "description": "The VNET the gateway is associated with." }
    },
    "gw204vGatewayType": {
      "type": "string",
      "defaultValue": "Vpn",
      "metadata": { "description": "The type of this virtual network gateway. Possible values are: 'Vpn' and 'ExpressRoute'." }
    },
    "gw204vVPNType": {
      "type": "string",
      "defaultValue": "RouteBased",
      "metadata": { "description": "The type of this virtual network gateway. Possible values are: 'PolicyBased' and 'RouteBased'." }
    },
    "gw204vEnableActiveActive": {
      "type": "bool",
      "defaultValue": true,
      "metadata": { "description": "ActiveActive flag" }
    },
    "gw204vgwSKUNameTier": {
      "type": "string",
      "defaultValue": "VpnGw1",
      "metadata": { "description": "The reference of the VirtualNetworkGatewaySku resource which represents the SKU selected for Virtual network gateway." }
    },
    "gw204vPublicIPName1": {
      "type": "string",
      "defaultValue": "gw_vnet1a_services_w2_gwpip1",
      "metadata": { "description": "IP configurations for virtual network gateway." }
    },
    "gw204vPublicIPName2": {
      "type": "string",
      "defaultValue": "gw_vnet1a_services_w2_gwpip2",
      "metadata": { "description": "IP configurations for virtual network gateway." }
    },
    "gw204venableBGP": {
      "type": "bool",
      "defaultValue": true,
      "metadata": { "description": "Whether BGP is enabled for this virtual network gateway or not." }
    },
    "gw204vbgpASN": {
      "type": "int",
      "defaultValue": 65522,
      "metadata": { "description": "The BGP speaker's ASN.." }
    },
    "gw204vbgpRoutingWeight": {
      "type": "int",
      "defaultValue": 100,
      "metadata": { "description": "The weight added to routes learned from this BGP speaker." }
    },

    /*
    Using the metadata spreadsheet, the connection tab, filter results on VNET204, 
    Select the columnns that contain the word template and are color coded accordingly.
    */
    "cnct200ConnectionName": {
      "type": "string",
      "defaultValue": "cnct_IPSec_gw_vnet1a_services_w2_To_lngw_austin_dc2",
      "metadata": { "description": "Arbitrary name for the new connection between an Azure VNet and another network" }
    },
    "cnct200gwName": {
      "type": "string",
      "defaultValue": "gw_vnet1a_services_w2",
      "metadata": { "description": "The reference to the virtual network gateway resource" }
    },
    "cnct200connectionType": {
      "type": "string",
      "defaultValue": "IPSec",
      "metadata": { "description": "What type of a connection is this?  (ExpressRoute, IPSec, Vnet2Vnet)" }
    },
    "cnct200remoteGWName": {
      "type": "string",
      "defaultValue": "lngw_austin_dc2",
      "metadata": { "description": "The reference to the local network gateway or remote gateway resource" }
    },
    "cnct200sharedKey": {
      "type": "string",
      "defaultValue": "mysharedkey",
      "metadata": { "description": "The IPSec shared key" }
    },
    "cnct200routingWeight": {
      "type": "int",
      "defaultValue": 0,
      "metadata": { "description": "The routing weight" }
    },
    "cnct200enableBGP": {
      "type": "bool",
      "defaultValue": true,
      "metadata": { "description": "EnableBGP flag" }
    },
    "cnct201ConnectionName": {
      "type": "string",
      "defaultValue": "cnct_Vnet2Vnet_gw_vnet1a_services_w2_To_gw_vnet1a_services_w1",
      "metadata": { "description": "Arbitrary name for the new connection between an Azure VNet and another network" }
    },
    "cnct201gwName": {
      "type": "string",
      "defaultValue": "gw_vnet1a_services_w2",
      "metadata": { "description": "The reference to the virtual network gateway resource" }
    },
    "cnct201connectionType": {
      "type": "string",
      "defaultValue": "Vnet2Vnet",
      "metadata": { "description": "What type of a connection is this?  (ExpressRoute, IPSec, Vnet2Vnet)" }
    },
    "cnct201remoteSubscriptionID": {
      "type": "string",
      "defaultValue": "730f26b5-ebf5-4518-999f-0b4eb0cdc8f9",
      "metadata": { "description": "The SubscriptionID of the remote VNET2VNET resource" }
    },
    "cnct201remoteResourceGroupName": {
      "type": "string",
      "defaultValue": "rg_network_vnet1a_services_w1",
      "metadata": { "description": "Remote Resource Group for VNET2VNET ResourceID creation" }
    },
    "cnct201remoteGWName": {
      "type": "string",
      "defaultValue": "gw_vnet1a_services_w1",
      "metadata": { "description": "The reference to the local network gateway or remote gateway resource" }
    },
    "cnct201sharedKey": {
      "type": "string",
      "defaultValue": "mysharedkey",
      "metadata": { "description": "The IPSec shared key" }
    },
    "cnct201routingWeight": {
      "type": "int",
      "defaultValue": 0,
      "metadata": { "description": "The routing weight" }
    },
    "cnct201enableBGP": {
      "type": "bool",
      "defaultValue": true,
      "metadata": { "description": "EnableBGP flag" }
    },
    "cnct201remoteLocation": {
      "type": "string",
      "defaultValue": "westcentralus",
      "metadata": { "description": "The Region where the Vnet2Vnet connection is terminated" }
    },

    "cnct202ConnectionName": {
      "type": "string",
      "defaultValue": "cnct_IPSec_gw_vnet1a_services_w2_To_lngw_site4a_az",
      "metadata": { "description": "Arbitrary name for the new connection between an Azure VNet and another network" }
    },
    "cnct202gwName": {
      "type": "string",
      "defaultValue": "gw_vnet1a_services_w2",
      "metadata": { "description": "The reference to the virtual network gateway resource" }
    },
    "cnct202connectionType": {
      "type": "string",
      "defaultValue": "IPSec",
      "metadata": { "description": "What type of a connection is this?  (ExpressRoute, IPSec, Vnet2Vnet)" }
    },
    "cnct202remoteGWName": {
      "type": "string",
      "defaultValue": "lngw_site4a_az",
      "metadata": { "description": "The reference to the local network gateway or remote gateway resource" }
    },
    "cnct202sharedKey": {
      "type": "string",
      "defaultValue": "mysharedkey",
      "metadata": { "description": "The IPSec shared key" }
    },
    "cnct202routingWeight": {
      "type": "int",
      "defaultValue": 0,
      "metadata": { "description": "The routing weight" }
    },
    "cnct202enableBGP": {
      "type": "bool",
      "defaultValue": true,
      "metadata": { "description": "EnableBGP flag" }
    },
    "cnct203ConnectionName": {
      "type": "string",
      "defaultValue": "cnct_IPSec_gw_vnet1a_services_w2_To_lngw_site4b_az",
      "metadata": { "description": "Arbitrary name for the new connection between an Azure VNet and another network" }
    },
    "cnct203gwName": {
      "type": "string",
      "defaultValue": "gw_vnet1a_services_w2",
      "metadata": { "description": "The reference to the virtual network gateway resource" }
    },
    "cnct203connectionType": {
      "type": "string",
      "defaultValue": "IPSec",
      "metadata": { "description": "What type of a connection is this?  (ExpressRoute, IPSec, Vnet2Vnet)" }
    },
    "cnct203remoteGWName": {
      "type": "string",
      "defaultValue": "lngw_site4b_az",
      "metadata": { "description": "The reference to the local network gateway or remote gateway resource" }
    },
    "cnct203sharedKey": {
      "type": "string",
      "defaultValue": "mysharedkey",
      "metadata": { "description": "The IPSec shared key" }
    },
    "cnct203routingWeight": {
      "type": "int",
      "defaultValue": 0,
      "metadata": { "description": "The routing weight" }
    },
    "cnct203enableBGP": {
      "type": "bool",
      "defaultValue": true,
      "metadata": { "description": "EnableBGP flag" }
    }

  }, /*Keep this line*/

  "variables": {
    "apiVersion": "2017-11-01",
    "vnetID": "[resourceId('Microsoft.Network/virtualNetworks', parameters('vnet204vnetName'))]",
    "subnet799Ref": "[concat(variables('vnetID'),'/subnets/',parameters('snet215Name'))]"
  },
  "resources": [ /*go to the Metadata spreadsheet, NSGGroups tab, filter on VNET 104
    Select the Resources that are grouped by color*/
    {
      "apiVersion": "[variables('apiversion')]",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('snet274NSGName')]",
      "location": "[resourceGroup().location]",
      "properties": { "securityRules": [] }
    },
    {
      "apiVersion": "[variables('apiversion')]",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('snet275NSGName')]",
      "location": "[resourceGroup().location]",
      "properties": { "securityRules": [] }
    },
    {
      "apiVersion": "[variables('apiversion')]",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('snet276NSGName')]",
      "location": "[resourceGroup().location]",
      "properties": { "securityRules": [] }
    },
    {
      "apiVersion": "[variables('apiversion')]",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('snet279NSGName')]",
      "location": "[resourceGroup().location]",
      "properties": { "securityRules": [] }
    },
    {
      "apiVersion": "[variables('apiversion')]",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('snet277NSGName')]",
      "location": "[resourceGroup().location]",
      "properties": { "securityRules": [] }
    },
    {
      "apiVersion": "[variables('apiversion')]",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('snet278NSGName')]",
      "location": "[resourceGroup().location]",
      "properties": { "securityRules": [] }
    },
    {
      "apiVersion": "[variables('apiversion')]",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('snet285NSGName')]",
      "location": "[resourceGroup().location]",
      "properties": { "securityRules": [] }
    },
    {
      "apiVersion": "[variables('apiversion')]",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('snet280NSGName')]",
      "location": "[resourceGroup().location]",
      "properties": { "securityRules": [] }
    },
    {
      "apiVersion": "[variables('apiversion')]",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('snet282NSGName')]",
      "location": "[resourceGroup().location]",
      "properties": { "securityRules": [] }
    },
    {
      "apiVersion": "[variables('apiversion')]",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('snet284NSGName')]",
      "location": "[resourceGroup().location]",
      "properties": { "securityRules": [] }
    },
    {
      "apiVersion": "[variables('apiversion')]",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('snet283NSGName')]",
      "location": "[resourceGroup().location]",
      "properties": { "securityRules": [] }
    },



    /*In the metadata spreadsheet, on the VNET Tab, filter on VNET204
          select the columns with Resource and grouped by Color. */
    {
      "apiVersion": "[variables('apiversion')]",
      "type": "Microsoft.Network/virtualNetworks",
      "name": "[parameters('vnet204vnetName')]",
      "location": "[parameters('vnet204locationName')]",
      "tags": { "displayName": "AzureFoundation VNet Definition" },
      "properties": {
        "addressSpace": { "addressPrefixes": [ "[parameters('vnet204vnetAddressPrefix')]" ] },
        "dhcpOptions": { "dnsServers": "[parameters('vnet204dnsServers')]" },
        "subnets": [



          /*In the metadata spreadsheet, on the Subnet Tab, filter on VNET204
          select the columns with Resource and grouped by Color. */
          {
            "name": "[parameters('snet274Name')]",
            "properties": {
              "addressPrefix": "[parameters('snet274IP')]",
              "networkSecurityGroup": { "id": "[resourceID('Microsoft.Network/networkSecurityGroups', parameters('snet274NSGName'))]" }
            }
          },
          {
            "name": "[parameters('snet275Name')]",
            "properties": {
              "addressPrefix": "[parameters('snet275IP')]",
              "networkSecurityGroup": { "id": "[resourceID('Microsoft.Network/networkSecurityGroups', parameters('snet275NSGName'))]" }
            }
          },
          {
            "name": "[parameters('snet280Name')]",
            "properties": {
              "addressPrefix": "[parameters('snet280IP')]",
              "networkSecurityGroup": { "id": "[resourceID('Microsoft.Network/networkSecurityGroups', parameters('snet280NSGName'))]" }
            }
          },
          {
            "name": "[parameters('snet282Name')]",
            "properties": {
              "addressPrefix": "[parameters('snet282IP')]",
              "networkSecurityGroup": { "id": "[resourceID('Microsoft.Network/networkSecurityGroups', parameters('snet282NSGName'))]" }
            }
          },
          {
            "name": "[parameters('snet283Name')]",
            "properties": {
              "addressPrefix": "[parameters('snet283IP')]",
              "networkSecurityGroup": { "id": "[resourceID('Microsoft.Network/networkSecurityGroups', parameters('snet283NSGName'))]" }
            }
          },
          {
            "name": "[parameters('snet284Name')]",
            "properties": {
              "addressPrefix": "[parameters('snet284IP')]",
              "networkSecurityGroup": { "id": "[resourceID('Microsoft.Network/networkSecurityGroups', parameters('snet284NSGName'))]" }
            }
          },
          {
            "name": "[parameters('snet276Name')]",
            "properties": {
              "addressPrefix": "[parameters('snet276IP')]",
              "networkSecurityGroup": { "id": "[resourceID('Microsoft.Network/networkSecurityGroups', parameters('snet276NSGName'))]" }
            }
          },
          {
            "name": "[parameters('snet279Name')]",
            "properties": {
              "addressPrefix": "[parameters('snet279IP')]",
              "networkSecurityGroup": { "id": "[resourceID('Microsoft.Network/networkSecurityGroups', parameters('snet279NSGName'))]" }
            }
          },
          {
            "name": "[parameters('snet277Name')]",
            "properties": {
              "addressPrefix": "[parameters('snet277IP')]",
              "networkSecurityGroup": { "id": "[resourceID('Microsoft.Network/networkSecurityGroups', parameters('snet277NSGName'))]" }
            }
          },
          {
            "name": "[parameters('snet278Name')]",
            "properties": {
              "addressPrefix": "[parameters('snet278IP')]",
              "networkSecurityGroup": { "id": "[resourceID('Microsoft.Network/networkSecurityGroups', parameters('snet278NSGName'))]" }
            }
          },
          {
            "name": "[parameters('snet285Name')]",
            "properties": {
              "addressPrefix": "[parameters('snet285IP')]",
              "networkSecurityGroup": { "id": "[resourceID('Microsoft.Network/networkSecurityGroups', parameters('snet285NSGName'))]" }
            }
          },
          {
            "name": "[parameters('snet215Name')]",
            "properties": { "addressPrefix": "[parameters('snet215IP')]" }
          }


        ] /*Keep this Line*/
      },
      "resources": [ /*Keep this line*/
        /*In the Peering tab selec the peering lines associated to VNET204*/
        {
          "apiVersion": "[variables('apiversion')]",
          "type": "virtualNetworkPeerings",
          "name": "[parameters('pr204PeeringName')]",
          "location": "[resourceGroup().location]",
          "comments": "Make sure you put these resources within the Resources of a VNET, like a subnet",
          "properties": {
            "allowVirtualNetworkAccess": "[parameters('pr204allowVNETAccess')]",
            "allowForwardedTraffic": "[parameters('pr204allowFwdAccess')]",
            "allowGatewayTransit": "[parameters('pr204allowGWAccess')]",
            "useRemoteGateways": "[parameters('pr204useRemoteGateway')]",
            "remoteVirtualNetwork": { "id": "[concat('/subscriptions/', parameters('pr204destSubscriptionID'), '/resourceGroups/', parameters('pr204destResourceGroup'),'/providers/Microsoft.Network/virtualNetworks/',parameters('pr204DestinationVNET'))]" }
          },
          "dependsOn": [ "[concat('Microsoft.Network/virtualNetworks/', parameters('vnet204vnetName'))]" ]
        },
        {
          "apiVersion": "[variables('apiversion')]",
          "type": "virtualNetworkPeerings",
          "name": "[parameters('pr205PeeringName')]",
          "location": "[resourceGroup().location]",
          "comments": "Make sure you put these resources within the Resources of a VNET, like a subnet",
          "properties": {
            "allowVirtualNetworkAccess": "[parameters('pr205allowVNETAccess')]",
            "allowForwardedTraffic": "[parameters('pr205allowFwdAccess')]",
            "allowGatewayTransit": "[parameters('pr205allowGWAccess')]",
            "useRemoteGateways": "[parameters('pr205useRemoteGateway')]",
            "remoteVirtualNetwork": { "id": "[concat('/subscriptions/', parameters('pr205destSubscriptionID'), '/resourceGroups/', parameters('pr205destResourceGroup'),'/providers/Microsoft.Network/virtualNetworks/',parameters('pr205DestinationVNET'))]" }
          },
          "dependsOn": [ "[concat('Microsoft.Network/virtualNetworks/', parameters('vnet204vnetName'))]" ]
        },
        {
          "apiVersion": "[variables('apiversion')]",
          "type": "virtualNetworkPeerings",
          "name": "[parameters('pr206PeeringName')]",
          "location": "[resourceGroup().location]",
          "comments": "Make sure you put these resources within the Resources of a VNET, like a subnet",
          "properties": {
            "allowVirtualNetworkAccess": "[parameters('pr206allowVNETAccess')]",
            "allowForwardedTraffic": "[parameters('pr206allowFwdAccess')]",
            "allowGatewayTransit": "[parameters('pr206allowGWAccess')]",
            "useRemoteGateways": "[parameters('pr206useRemoteGateway')]",
            "remoteVirtualNetwork": { "id": "[concat('/subscriptions/', parameters('pr206destSubscriptionID'), '/resourceGroups/', parameters('pr206destResourceGroup'),'/providers/Microsoft.Network/virtualNetworks/',parameters('pr206DestinationVNET'))]" }
          },
          "dependsOn": [ "[concat('Microsoft.Network/virtualNetworks/', parameters('vnet204vnetName'))]" ]
        },
        {
          "apiVersion": "[variables('apiversion')]",
          "type": "virtualNetworkPeerings",
          "name": "[parameters('pr207PeeringName')]",
          "location": "[resourceGroup().location]",
          "comments": "Make sure you put these resources within the Resources of a VNET, like a subnet",
          "properties": {
            "allowVirtualNetworkAccess": "[parameters('pr207allowVNETAccess')]",
            "allowForwardedTraffic": "[parameters('pr207allowFwdAccess')]",
            "allowGatewayTransit": "[parameters('pr207allowGWAccess')]",
            "useRemoteGateways": "[parameters('pr207useRemoteGateway')]",
            "remoteVirtualNetwork": { "id": "[concat('/subscriptions/', parameters('pr207destSubscriptionID'), '/resourceGroups/', parameters('pr207destResourceGroup'),'/providers/Microsoft.Network/virtualNetworks/',parameters('pr207DestinationVNET'))]" }
          },
          "dependsOn": [ "[concat('Microsoft.Network/virtualNetworks/', parameters('vnet204vnetName'))]" ]
        }


      ], /*Keep This Line*/
      "dependsOn": /*Keep This Line*/
      [ /*Keep This Line*/
        /*Using the metadata template on the Subnet Tab, filter to VNET204 and select
          the columns with DependsOn and grouped by color*/
        "[concat('Microsoft.Network/networkSecurityGroups/', parameters('snet274NSGName'))]",
        "[concat('Microsoft.Network/networkSecurityGroups/', parameters('snet275NSGName'))]",
        "[concat('Microsoft.Network/networkSecurityGroups/', parameters('snet280NSGName'))]",
        "[concat('Microsoft.Network/networkSecurityGroups/', parameters('snet282NSGName'))]",
        "[concat('Microsoft.Network/networkSecurityGroups/', parameters('snet283NSGName'))]",
        "[concat('Microsoft.Network/networkSecurityGroups/', parameters('snet284NSGName'))]",
        "[concat('Microsoft.Network/networkSecurityGroups/', parameters('snet276NSGName'))]",
        "[concat('Microsoft.Network/networkSecurityGroups/', parameters('snet279NSGName'))]",
        "[concat('Microsoft.Network/networkSecurityGroups/', parameters('snet277NSGName'))]",
        "[concat('Microsoft.Network/networkSecurityGroups/', parameters('snet278NSGName'))]",
        "[concat('Microsoft.Network/networkSecurityGroups/', parameters('snet285NSGName'))]"

      ]
    },
    /*using the metadata spreadsheet goto the localnetworkgateway tab filter on VNET204
    and copy the gateway information here*/
    {
      "apiVersion": "[variables('apiversion')]",
      "type": "Microsoft.Network/localNetworkGateways",
      "name": "[parameters('lngw01bname')]",
      "location": "[resourceGroup().location]",
      "properties": {
        "localNetworkAddressSpace": { "addressPrefixes": "[parameters('lngw01blocalNetworkAddressSpace')]" },
        "bgpSettings": {
          "asn": "[parameters('lngw01bASNNumber')]",
          "bgpPeeringAddress": "[parameters('lngw01bBGPPeerIPAddress')]",
          "peerWeight": "[parameters('lngw01bpeerWeight')]"
        },
        "gatewayIpAddress": "[parameters('lngw01bgatewayIPAddress')]"
      }
    },
    {
      "apiVersion": "[variables('apiversion')]",
      "type": "Microsoft.Network/localNetworkGateways",
      "name": "[parameters('lngw02bname')]",
      "location": "[resourceGroup().location]",
      "properties": {
        "localNetworkAddressSpace": { "addressPrefixes": "[parameters('lngw02blocalNetworkAddressSpace')]" },
        "bgpSettings": {
          "asn": "[parameters('lngw02bASNNumber')]",
          "bgpPeeringAddress": "[parameters('lngw02bBGPPeerIPAddress')]",
          "peerWeight": "[parameters('lngw02bpeerWeight')]"
        },
        "gatewayIpAddress": "[parameters('lngw02bgatewayIPAddress')]"
      }
    },
    {
      "apiVersion": "[variables('apiversion')]",
      "type": "Microsoft.Network/localNetworkGateways",
      "name": "[parameters('lngw404aname')]",
      "location": "[resourceGroup().location]",
      "properties": {
        "localNetworkAddressSpace": { "addressPrefixes": "[parameters('lngw404alocalNetworkAddressSpace')]" },
        "bgpSettings": {
          "asn": "[parameters('lngw404aASNNumber')]",
          "bgpPeeringAddress": "[parameters('lngw404aBGPPeerIPAddress')]",
          "peerWeight": "[parameters('lngw404apeerWeight')]"
        },
        "gatewayIpAddress": "[parameters('lngw404agatewayIPAddress')]"
      }
    },
    {
      "apiVersion": "[variables('apiversion')]",
      "type": "Microsoft.Network/localNetworkGateways",
      "name": "[parameters('lngw404bname')]",
      "location": "[resourceGroup().location]",
      "properties": {
        "localNetworkAddressSpace": { "addressPrefixes": "[parameters('lngw404blocalNetworkAddressSpace')]" },
        "bgpSettings": {
          "asn": "[parameters('lngw404bASNNumber')]",
          "bgpPeeringAddress": "[parameters('lngw404bBGPPeerIPAddress')]",
          "peerWeight": "[parameters('lngw404bpeerWeight')]"
        },
        "gatewayIpAddress": "[parameters('lngw404bgatewayIPAddress')]"
      }
    },

    /*using the metadata spreadsheet goto the gateway tab filter on VNET204
    and copy the gateway information here*/

    {
      "apiVersion": "[variables('apiversion')]",
      "type": "Microsoft.Network/publicIPAddresses",
      "name": "[parameters('gw204vPublicIPName1')]",
      "location": "[resourceGroup().location]",
      "properties": { "publicIPAllocationMethod": "Dynamic" }
    },
    {
      "apiVersion": "[variables('apiversion')]",
      "type": "Microsoft.Network/publicIPAddresses",
      "name": "[parameters('gw204vPublicIPName2')]",
      "location": "[resourceGroup().location]",
      "properties": { "publicIPAllocationMethod": "Dynamic" }
    },
    {
      "apiVersion": "[variables('apiversion')]",
      "type": "Microsoft.Network/virtualNetworkGateways",
      "name": "[parameters('gw204vGatewayName')]",
      "location": "[resourceGroup().location]",
      "dependsOn": [ "[concat('Microsoft.Network/publicIPAddresses/', parameters('gw204vPublicIPName1'))]", "[concat('Microsoft.Network/publicIPAddresses/', parameters('gw204vPublicIPName2'))]", "[concat('Microsoft.Network/virtualNetworks/', parameters('gw204vvnetName'))]" ],
      "properties": {
        "ipConfigurations": [
          {
            "name": "[parameters('gw204vPublicIPName1')]",
            "properties": {
              "privateIPAllocationMethod": "Dynamic",
              "subnet": { "id": "[variables('subnet799Ref')]" },
              "publicIPAddress": { "id": "[resourceId('Microsoft.Network/publicIPAddresses',parameters('gw204vPublicIPName1'))]" }
            }
          },
          {
            "name": "[parameters('gw204vPublicIPName2')]",
            "properties": {
              "privateIPAllocationMethod": "Dynamic",
              "subnet": { "id": "[variables('subnet799Ref')]" },
              "publicIPAddress": { "id": "[resourceId('Microsoft.Network/publicIPAddresses',parameters('gw204vPublicIPName2'))]" }
            }
          }
        ],
        "gatewayType": "[parameters('gw204vGatewayType')]",
        "vpnType": "[parameters('gw204vVPNType')]",
        "activeActive": "[parameters('gw204vEnableActiveActive')]",
        "enableBGP": "[parameters('gw204venableBGP')]",
        "bgpSettings": { "asn": "[parameters('gw204vbgpASN')]" },
        "sku": {
          "name": "[parameters('gw204vgwSKUNameTier')]",
          "tier": "[parameters('gw204vgwSKUNameTier')]"
        }
      }
    },

    /*using the metadata spreadsheet goto the Connection tab filter on VNET204
    and copy the gateway information here*/
    {
      "apiVersion": "[variables('apiversion')]",
      "name": "[parameters('cnct200ConnectionName')]",
      "type": "Microsoft.Network/connections",
      "location": "[resourceGroup().location]",
      "dependsOn": [ "[concat('Microsoft.Network/virtualNetworkGateways/', parameters('cnct200gwName'))]", "[concat('Microsoft.Network/localNetworkGateways/', parameters('cnct200remoteGWName'))]" ],
      "properties": {
        "virtualNetworkGateway1": { "id": "[resourceId('Microsoft.Network/virtualNetworkGateways', parameters('cnct200gwName'))]" },
        "localNetworkGateway2": { "id": "[resourceId('Microsoft.Network/localNetworkGateways', parameters('cnct200remoteGWName'))]" },
        "sharedKey": "[parameters('cnct200sharedKey')]",
        "connectionType": "[parameters('cnct200connectionType')]",
        "routingWeight": "[parameters('cnct200routingWeight')]",
        "enableBGP": "[parameters('cnct200enableBGP')]"
      }
    },
    {
      "apiVersion": "[variables('apiversion')]",
      "name": "[concat('cnct1',parameters('cnct201ConnectionName'))]",
      "type": "Microsoft.Network/connections",
      "location": "[resourceGroup().location]",
      "dependsOn": [ "[concat('Microsoft.Network/virtualNetworkGateways/', parameters('cnct201gwName'))]" ],
      "properties": {
        "virtualNetworkGateway1": { "id": "[resourceId('Microsoft.Network/virtualNetworkGateways', parameters('cnct201gwName'))]" },
        "virtualNetworkGateway2": { "id": "[concat('/subscriptions/',parameters('cnct201remoteSubscriptionID'),'/resourceGroups/',parameters('cnct201remoteResourceGroupName'),'/providers/Microsoft.Network/VirtualNetworkGateways/', parameters('cnct201remoteGWName'))]" },
        "sharedKey": "[parameters('cnct201sharedKey')]",
        "connectionType": "[parameters('cnct201connectionType')]",
        "routingWeight": "[parameters('cnct201routingWeight')]",
        "enableBGP": "[parameters('cnct201enableBGP')]"
      }
    },
    {
      "apiVersion": "[variables('apiversion')]",
      "name": "[concat('cnct2',parameters('cnct201ConnectionName'))]",
      "type": "Microsoft.Network/connections",
      "location": "[parameters('cnct201remoteLocation')]",
      "dependsOn": [ "[concat('Microsoft.Network/virtualNetworkGateways/', parameters('cnct201gwName'))]" ],
      "properties": {
        "virtualNetworkGateway1": { "id": "[concat('/subscriptions/',parameters('cnct201remoteSubscriptionID'),'/resourceGroups/',parameters('cnct201remoteResourceGroupName'),'/providers/Microsoft.Network/VirtualNetworkGateways/', parameters('cnct201remoteGWName'))]" },
        "virtualNetworkGateway2": { "id": "[resourceId('Microsoft.Network/virtualNetworkGateways', parameters('cnct201gwName'))]" },
        "sharedKey": "[parameters('cnct201sharedKey')]",
        "connectionType": "[parameters('cnct201connectionType')]",
        "routingWeight": "[parameters('cnct201routingWeight')]",
        "enableBGP": "[parameters('cnct201enableBGP')]"
      }
    },

    {
      "apiVersion": "[variables('apiversion')]",
      "name": "[parameters('cnct202ConnectionName')]",
      "type": "Microsoft.Network/connections",
      "location": "[resourceGroup().location]",
      "dependsOn": [ "[concat('Microsoft.Network/virtualNetworkGateways/', parameters('cnct202gwName'))]", "[concat('Microsoft.Network/localNetworkGateways/', parameters('cnct202remoteGWName'))]" ],
      "properties": {
        "virtualNetworkGateway1": { "id": "[resourceId('Microsoft.Network/virtualNetworkGateways', parameters('cnct202gwName'))]" },
        "localNetworkGateway2": { "id": "[resourceId('Microsoft.Network/localNetworkGateways', parameters('cnct202remoteGWName'))]" },
        "sharedKey": "[parameters('cnct202sharedKey')]",
        "connectionType": "[parameters('cnct202connectionType')]",
        "routingWeight": "[parameters('cnct202routingWeight')]",
        "enableBGP": "[parameters('cnct202enableBGP')]"
      }
    },
    {
      "apiVersion": "[variables('apiversion')]",
      "name": "[parameters('cnct203ConnectionName')]",
      "type": "Microsoft.Network/connections",
      "location": "[resourceGroup().location]",
      "dependsOn": [ "[concat('Microsoft.Network/virtualNetworkGateways/', parameters('cnct203gwName'))]", "[concat('Microsoft.Network/localNetworkGateways/', parameters('cnct203remoteGWName'))]" ],
      "properties": {
        "virtualNetworkGateway1": { "id": "[resourceId('Microsoft.Network/virtualNetworkGateways', parameters('cnct203gwName'))]" },
        "localNetworkGateway2": { "id": "[resourceId('Microsoft.Network/localNetworkGateways', parameters('cnct203remoteGWName'))]" },
        "sharedKey": "[parameters('cnct203sharedKey')]",
        "connectionType": "[parameters('cnct203connectionType')]",
        "routingWeight": "[parameters('cnct203routingWeight')]",
        "enableBGP": "[parameters('cnct203enableBGP')]"
      }
    }

  ],
  "outputs": {

  }
}
